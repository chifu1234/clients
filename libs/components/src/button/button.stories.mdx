import { Meta, Story, Canvas, ArgsTable, Source } from "@storybook/addon-docs/blocks";

import { ButtonComponent } from "./button.component";

<Meta
  title="Component Library/Button"
  component={ButtonComponent}
  parameters={{
    design: {
      type: "figma",
      url: "https://www.figma.com/file/f32LSg3jaegICkMu7rPARm/Tailwind-Component-Library-Update?node-id=1881%3A16733",
    },
  }}
/>

export const Template = (args) => ({
  props: args,
  template: `
   <button bitButton [disabled]="disabled" [loading]="loading" [buttonType]="buttonType" [block]="block">Button</button>
    <a bitButton [disabled]="disabled" [loading]="loading" [buttonType]="buttonType" [block]="block" href="#" class="tw-ml-2">Link</a>  `,
});

export const AllStylesTemplate = (args) => ({
  props: args,
  template: `
    <button bitButton [disabled]="disabled" [loading]="loading" [block]="block" buttonType="primary" class="tw-mr-2">Primary</button>
    <button bitButton [disabled]="disabled" [loading]="loading" [block]="block" buttonType="secondary" class="tw-mr-2">Secondary</button>
    <button bitButton [disabled]="disabled" [loading]="loading" [block]="block" buttonType="danger" class="tw-mr-2">Danger</button>`,
});

export const BlockTemplate = (args) => ({
  props: args,
  template: `
    <span class="tw-flex">
      <button bitButton [buttonType]="buttonType" [block]="block"> Button</button>
      <a bitButton [buttonType]="buttonType" [block]="block" href="#" class="tw-ml-2"> Link</a>
      <button bitButton [buttonType]="buttonType" block class="tw-ml-2">block Button</button>
      <a bitButton [buttonType]="buttonType" block href="#" class="tw-ml-2">block Link</a>
    </span> `,
});

export const IconTemplate = (args) => ({
  props: args,
  template: `
   <button bitButton [disabled]="disabled" [loading]="loading" [buttonType]="buttonType" [block]="block"><i class="bwi bwi-plus tw-mr-2"></i>Button</button>
   <button bitButton [disabled]="disabled" [loading]="loading" [buttonType]="buttonType" [block]="block"><i class="bwi bwi-plus tw-mr-2"></i>Button</button>
   <button bitButton [disabled]="disabled" [loading]="loading" [buttonType]="buttonType" [block]="block"><i class="bwi bwi-plus tw-mr-2"></i>Button</button>
});

# Buttons

Use buttons for actions in forms, dialogs, tables, and more.

## Choosing between `<a>` and `<button>`

Call to actions (CTAs) can use either the `<a>` or `<button>` html elements; choose which based on the action the button takes: if navigating to a new page use an `<a>`, if taking an action on the current page use a `<button>`.

## Placement

For pairings in the bottom left corner of a page or component, the primary CTA will go on the left side of a button group with the secondary CTA option on the left.
Parings in the top right corner of a page, should have the Primary CTA on the right.

## Styles

There are 3 main button styles: Primary, Secondary, and Danger.

### Primary

Use the `primary` styling for an action that relate to the main purpose of a page. There should never be 2 `primary` styled buttons next to each other.

<Canvas>
  <Story name="Primary" args={{ buttonType: "primary" }} height="290px">
    {Template.bind({})}
  </Story>
</Canvas>

### Secondary

The `secondary` styling should be used for secondary page action. An action is `secondary` if it relates indirectly to the purpose of a page. There may be multiple secondary actions next to each other; however, generally there should only be 1 or 2 calls to action per page.

<Canvas>
  <Story name="Secondary" args={{ buttonType: "secondary" }} height="290px">
    {Template.bind({})}
  </Story>
</Canvas>

### Danger

Use the Danger styling when the user may preform a permanent action.

<Canvas>
  <Story name="Danger" args={{ buttonType: "danger" }} height="290px">
    {Template.bind({})}
  </Story>
</Canvas>

### Disabled and Loading

The Disabled and Loading states use the default state’s color with a 60% opacity or tw-opacity-60.

**Disabled**

<Canvas>
  <Story name="Disabled" args={{ disabled: "true" }} height="290px">
    {AllStylesTemplate.bind({})}
  </Story>
</Canvas>

**Loading**

<Canvas>
  <Story name="Loading" args={{ loading: "true" }} height="290px">
    {AllStylesTemplate.bind({})}
  </Story>
</Canvas>

**Note:** The loading state's width should remain the same as the width of the primary content. See accessiblity notes below for expected screen reader behavior.

## Block Buttons

Typically button widths expand with their text. However, in some causes buttons can also be block, where the width is fixed and the text wraps to 2 lines if the text exceeds the button’s width.

<Canvas>
  <Story name="Block" args={{ block: "true" }} height="290px">
    {BlockTemplate.bind({})}
  </Story>
</Canvas>

### Buttons with Icons

<Canvas>
  <Story name="With Icon" args={{ buttonType: "primary" }} height="290px">
    {IconTemplate.bind({})}
  </Story>
</Canvas>

### Accessiblity
